---
apiVersion: v1
kind: query
spec:
  name: Get operating system information
  platform: darwin, windows, linux
  description: Returns the operating system name and version on the device.
  query: SELECT name, version FROM os_version;
  powershell: "$os = Get-CimInstance Win32_OperatingSystem\n[PSCustomObject]@{\n    name = $os.Caption\n    version = $os.Version\n} | Format-Table -AutoSize"
  bash: 'echo "name, version" && sw_vers | awk -F: ''/ProductName/ {gsub(/^[ \t]+/, "", $2); name=$2} /ProductVersion/ {gsub(/^[ \t]+/, "", $2); version=$2} END {print name", "version}'''
  purpose: Informational
  tags: inventory, built-in
  contributors: noahtalerman
  team: both
